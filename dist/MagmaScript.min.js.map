{"version":3,"sources":["MagmaScript.min.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_1__","__WEBPACK_EXTERNAL_MODULE_2__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","evaluator","script","entity","$","MagmaScript","bind","newValue","_isNull","value","eval","toIdValue","val","Object","defineProperty","undefined","_typeof","Symbol","iterator","constructor","prototype","_mathjs","_mathjs2","_moment","_moment2","Array","isArray","map","_idValue","isValidJson","JSON","parse","e","plus","pow","exp","denominator","Math","times","factor","div","age","toDate","floor","Date","now","categoryMapping","defaultValue","nullValue","idValue","group","arrayOfBounds","arrayOfOutliers","length","i","originalValue","_i","lowerBound","upperBound","eq","other","matches","regex","test","isNull","not","or","and","gt","lt","ge","le","unit","newUnit","toUnit","targetUnit","toNumber","attr","attributes","split","result"],"mappings":"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","file":"MagmaScript.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"math\"), require(\"moment\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"math\", \"moment\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"MagmaScript\"] = factory(require(\"math\"), require(\"moment\"));\n\telse\n\t\troot[\"MagmaScript\"] = factory(root[\"math\"], root[\"moment\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.toIdValue = undefined;\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\texports.evaluator = evaluator;\n\texports.MagmaScript = MagmaScript;\n\t\n\tvar _mathjs = __webpack_require__(1);\n\t\n\tvar _mathjs2 = _interopRequireDefault(_mathjs);\n\t\n\tvar _moment = __webpack_require__(2);\n\t\n\tvar _moment2 = _interopRequireDefault(_moment);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\n\t * Looks up the '_idValue' value in objects.\n\t * @param value object or array of objects\n\t * @returns {*} value with _idValue property replaced in objects\n\t */\n\tvar toIdValue = exports.toIdValue = function toIdValue(value) {\n\t  if (value === null) return null;\n\t  if (value === undefined) return undefined;\n\t  if (Array.isArray(value)) return value.map(toIdValue);\n\t  if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value['_idValue'] !== undefined) return value._idValue;\n\t  return value;\n\t};\n\t\n\t/**\n\t * Evaluates a script.\n\t *\n\t * @param script the script\n\t * @param entity object mapping attribute name key to attribute value\n\t * @returns the evaluated script result\n\t */\n\tfunction evaluator(script, entity) {\n\t  // make functions available to the script in local scope\n\t  // noinspection JSUnusedLocalSymbols\n\t  var $ = MagmaScript.$.bind(entity); //NOSONAR\n\t  // noinspection JSUnusedLocalSymbols\n\t  var newValue = MagmaScript.newValue; // NOSONAR\n\t  // noinspection JSUnusedLocalSymbols\n\t  var _isNull = MagmaScript._isNull; // NOSONAR\n\t  var value = eval(script);\n\t  return toIdValue(value);\n\t}\n\t\n\tfunction MagmaScript(val) {\n\t  this.val = val;\n\t}\n\t\n\t/**\n\t *\n\t * Gives you the value of the attribute specified between $('')\n\t * notation\n\t *\n\t * Example: $('Height').value() returns the values of the height\n\t * attribute\n\t *\n\t * If the value is an object, returns the idValue\n\t *\n\t * @memberof MagmaScript\n\t * @method value\n\t *\n\t */\n\tMagmaScript.prototype.value = function () {\n\t  return this.val;\n\t};\n\t\n\t/**\n\t * Returns true if your value is valid JSON\n\t * Returns false if not\n\t */\n\tMagmaScript.prototype.isValidJson = function () {\n\t  try {\n\t    JSON.parse(this.val);\n\t    this.val = true;\n\t  } catch (e) {\n\t    this.val = false;\n\t  }\n\t  return this;\n\t};\n\t\n\t/**\n\t * returns the result of the first value plus the second value\n\t *\n\t * @param value: the number you want to add to the current value\n\t */\n\tMagmaScript.prototype.plus = function (value) {\n\t  if (!MagmaScript._isNull(value)) {\n\t    if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' || typeof value === 'function') {\n\t      this.val = this.val + value.value();\n\t    } else {\n\t      this.val = this.val + value;\n\t    }\n\t  }\n\t  return this;\n\t};\n\t\n\t/**\n\t * Gives you the exponent value of the attribute specified between\n\t * $('') notation\n\t *\n\t * Example: $('Height').pow(2).value() returns the result of\n\t * height_value ^ 2\n\t *\n\t * @param exp The number you use to execute the power function\n\t *\n\t * @memberof MagmaScript\n\t * @method pow\n\t */\n\tMagmaScript.prototype.pow = function (exp) {\n\t  if ((typeof denominator === 'undefined' ? 'undefined' : _typeof(denominator)) === 'object' && typeof denominator.value === 'function') {\n\t    exp = exp.value();\n\t  }\n\t  this.val = Math.pow(this.val, exp);\n\t  return this;\n\t};\n\t\n\t/**\n\t * Gives you the multiplication value of the attribute specified between\n\t * $('') notation\n\t *\n\t * Example: $('Height').times(2).value() returns the result of\n\t * height_value * 2\n\t *\n\t * @param factor :\n\t  *            The number you multiply by\n\t *\n\t * @memberof MagmaScript\n\t * @method div\n\t */\n\tMagmaScript.prototype.times = function (factor) {\n\t  if ((typeof factor === 'undefined' ? 'undefined' : _typeof(factor)) === 'object' && typeof factor.value === 'function') {\n\t    factor = factor.value();\n\t  }\n\t  this.val = this.val * factor;\n\t  return this;\n\t};\n\t\n\t/**\n\t * Gives you the division value of the attribute specified between\n\t * $('') notation\n\t *\n\t * Example: $('Height').div(2).value() returns the result of\n\t * height_value / 2\n\t *\n\t * @param denominator The number you divide by\n\t *\n\t * @memberof MagmaScript\n\t * @method div\n\t */\n\tMagmaScript.prototype.div = function (denominator) {\n\t  if ((typeof denominator === 'undefined' ? 'undefined' : _typeof(denominator)) === 'object' && typeof denominator.value === 'function') {\n\t    denominator = denominator.value();\n\t  }\n\t  this.val = this.val / denominator;\n\t  return this;\n\t};\n\t\n\t/**\n\t * Returns the age based on the date of birth and the current year\n\t *\n\t * Example: $('Date_Of_Birth').age().value()\n\t *\n\t * @memberof MagmaScript\n\t * @method age\n\t */\n\tMagmaScript.prototype.age = function () {\n\t  if (MagmaScript._isNull(this.val)) {\n\t    this.val = undefined;\n\t  } else {\n\t    if (typeof this.val === 'string') {\n\t      this.val = (0, _moment2.default)(this.val, 'YYYY-MM-DD', true).toDate();\n\t    }\n\t    this.val = Math.floor((Date.now() - this.val) / (365.2425 * 24 * 60 * 60 * 1000));\n\t  }\n\t  return this;\n\t};\n\t\n\t/**\n\t * Maps categories to each other.\n\t *\n\t * Example: Dataset1 -> Male = 1, Female = 2 Dataset2 -> Male = 0,\n\t * Female = 1 $('Dataset2').map({0:1, 1:2}).value()\n\t *\n\t * @param categoryMapping  The mapping in JSON format to apply\n\t * @param defaultValue     a value to use for categories that are not mentioned in the categoryMappign\n\t * @param nullValue        a value to use for null instances\n\t *\n\t * @memberof MagmaScript\n\t * @method map\n\t */\n\tMagmaScript.prototype.map = function (categoryMapping, defaultValue, nullValue) {\n\t  if (typeof categoryMapping === 'function') {\n\t    this.val = this.val.map(MagmaScript.newValue).map(categoryMapping);\n\t  } else {\n\t    var idValue = toIdValue(this.val);\n\t    if (idValue in categoryMapping) {\n\t      this.val = categoryMapping[idValue];\n\t    } else {\n\t      if (nullValue !== undefined && (this.val === undefined || this.val === null)) {\n\t        this.val = nullValue;\n\t      } else {\n\t        this.val = defaultValue;\n\t      }\n\t    }\n\t  }\n\t  return this;\n\t};\n\t\n\t/**\n\t * Group values into defined ranges\n\t *\n\t * Example: age -> 19, 39, 50, 75\n\t * $('age').group({18, 35, 50, 75}).value() produces the following ranges which are left inclusive, (-∞, 18), [18, 35), [35, 50), [50, 75), [75, +∞)\n\t * the text representations are '-18','18-35','35-50','50-75','75+'\n\t *\n\t * @param arrayOfBounds a list of values that will be the bounds of the ranges.\n\t * @param arrayOfOutliers a list of outlier values that will be not be grouped and will be returned as is.\n\t * @param nullValue a value to use for null instances\n\t *\n\t * @memberof MagmaScript\n\t * @method group\n\t */\n\tMagmaScript.prototype.group = function (arrayOfBounds, arrayOfOutliers, nullValue) {\n\t\n\t  // Check if the the value is an outlier value\n\t  if (arrayOfOutliers && arrayOfOutliers.length > 0) {\n\t    for (var i = 0; i < arrayOfOutliers.length; i++) {\n\t      if (this.val === arrayOfOutliers[i]) {\n\t        return this;\n\t      }\n\t    }\n\t  }\n\t  // find the ranges that the value fits into\n\t  if (arrayOfBounds && arrayOfBounds.length > 0) {\n\t    var originalValue = this.val;\n\t    if (originalValue < arrayOfBounds[0]) {\n\t      this.val = '-' + arrayOfBounds[0];\n\t    } else if (originalValue >= arrayOfBounds[arrayOfBounds.length - 1]) {\n\t      this.val = arrayOfBounds[arrayOfBounds.length - 1] + '+';\n\t    }\n\t    if (arrayOfBounds.length > 1) {\n\t      for (var _i = 1; _i < arrayOfBounds.length; _i++) {\n\t        var lowerBound = arrayOfBounds[_i - 1];\n\t        var upperBound = arrayOfBounds[_i];\n\t        //If lowerBound is bigger than upperBound, restore the original value and stop the function\n\t        if (lowerBound > upperBound) {\n\t          this.val = nullValue ? nullValue : null;\n\t          break;\n\t        }\n\t        if (originalValue >= lowerBound && originalValue < upperBound) {\n\t          this.val = lowerBound + '-' + upperBound;\n\t          break;\n\t        }\n\t      }\n\t    }\n\t    return this;\n\t  }\n\t\n\t  this.val = nullValue ? nullValue : null;\n\t  return this;\n\t};\n\t\n\t/**\n\t * Compares two values and returns true or false\n\t *\n\t * Example: $('Height').eq(100).value()\n\t *\n\t * @param other the value you wish to compare with\n\t *\n\t * @memberof MagmaScript\n\t * @method eq\n\t */\n\tMagmaScript.prototype.eq = function (other) {\n\t  if (MagmaScript._isNull(this.val) && MagmaScript._isNull(other)) {\n\t    this.val = false;\n\t  } else if (MagmaScript._isNull(this.val) && !MagmaScript._isNull(other)) {\n\t    this.val = false;\n\t  } else {\n\t    this.val = this.value() === other;\n\t  }\n\t  return this;\n\t};\n\t\n\t/**\n\t * Check if a value matches a regular expression\n\t *\n\t * Example: $('Username').matches(/^[a-z0-9_-]{6,18}$/).value()\n\t */\n\tMagmaScript.prototype.matches = function (regex) {\n\t  this.val = regex.test(this.val);\n\t  return this;\n\t};\n\t\n\t/**\n\t * Check if a value is null\n\t *\n\t * Example: $('Height').isNull().value()\n\t *\n\t * @memberof MagmaScript\n\t * @method isNull\n\t */\n\tMagmaScript.prototype.isNull = function () {\n\t  this.val = MagmaScript._isNull(this.val);\n\t  return this;\n\t};\n\t\n\t/**\n\t * Checks if a boolean is not\n\t *\n\t * Example: $('Has_Ears').not().value()\n\t *\n\t * @memberof MagmaScript\n\t * @method not\n\t */\n\tMagmaScript.prototype.not = function () {\n\t  this.val = !this.val;\n\t  return this;\n\t};\n\t\n\t/**\n\t * Checks if something is one value or the other\n\t *\n\t * Example: $('male').or($('female')).value()\n\t *\n\t * @param other Another value\n\t *\n\t * @memberof MagmaScript\n\t * @method or\n\t */\n\tMagmaScript.prototype.or = function (other) {\n\t  this.val = this.val || other.value();\n\t  return this;\n\t};\n\t\n\t/**\n\t * Checks if something is one value and the other\n\t *\n\t * Example: $('female').and($('pregnant')).value()\n\t *\n\t * @param other Another value\n\t *\n\t * @memberof MagmaScript\n\t * @method and\n\t */\n\tMagmaScript.prototype.and = function (other) {\n\t  this.val = this.val && other.value();\n\t  return this;\n\t};\n\t\n\t/**\n\t * Returns true or false if Greater then the submitted value\n\t *\n\t * Example: $('Height').gt(100).value()\n\t *\n\t * @param value The value you compare with\n\t *\n\t * @memberof MagmaScript\n\t * @method gt\n\t */\n\tMagmaScript.prototype.gt = function (value) {\n\t  this.val = MagmaScript._isNull(this.val) ? false : this.value() > value;\n\t  return this;\n\t};\n\t\n\t/**\n\t * Returns true or false if Less then the submitted value\n\t *\n\t * Example: $('Height').lt(100).value()\n\t *\n\t * @param value The value you compare with\n\t *\n\t * @memberof MagmaScript\n\t * @method lt\n\t */\n\tMagmaScript.prototype.lt = function (value) {\n\t  this.val = MagmaScript._isNull(this.val) ? false : this.value() < value;\n\t  return this;\n\t};\n\t/**\n\t * Returns true or false if Greater or equal then the submitted\n\t * value\n\t *\n\t * Example: $('Height').ge(100).value()\n\t *\n\t * @param value The value you compare with\n\t *\n\t * @memberof MagmaScript\n\t * @method ge\n\t */\n\tMagmaScript.prototype.ge = function (value) {\n\t  this.val = MagmaScript._isNull(this.val) ? false : this.value() >= value;\n\t  return this;\n\t};\n\t/**\n\t * Returns true or false if Less or equal then the submitted value\n\t *\n\t * Example: $('Height').le(100).value()\n\t *\n\t * @param value The value you compare with\n\t *\n\t * @memberof MagmaScript\n\t * @method le\n\t */\n\tMagmaScript.prototype.le = function (value) {\n\t  this.val = MagmaScript._isNull(this.val) ? false : this.value() <= value;\n\t  return this;\n\t};\n\t/**\n\t * Sets the measurement unit of the current value to the specified\n\t * unit. Returns the current unit when no argument is supplied.\n\t *\n\t * @memberof MagmaScript\n\t * @method unit\n\t */\n\tMagmaScript.prototype.unit = function (newUnit) {\n\t  if (!newUnit) {\n\t    return this.unit;\n\t  }\n\t  this.unit = newUnit;\n\t  return this;\n\t};\n\t\n\t/**\n\t * Measurement unit conversion: converts the current value into a\n\t * different measurement unit.\n\t *\n\t * @memberof MagmaScript\n\t * @method toUnit\n\t */\n\tMagmaScript.prototype.toUnit = function (targetUnit) {\n\t  var unit = _mathjs2.default.unit(this.val, this.unit);\n\t  this.val = unit.toNumber(targetUnit);\n\t  return this;\n\t};\n\t\n\t/**\n\t * Stores the computed MagmaScript value after applying on of the mathematical\n\t * functions listed below\n\t *\n\t * In case of deep referencing attribute e.g. xref.xref2.label, we loop through these attributes and only return\n\t * new MagmaScript(label)\n\t *\n\t * @version 1.0\n\t * @namespace MagmaScript\n\t */\n\tMagmaScript.$ = function (attr) {\n\t  var attributes = attr.split('\\.');\n\t  var result = this; // we expect the $ function be bound to the entity we're evaluating\n\t\n\t  for (var i = 0; i < attributes.length && result !== null; i++) {\n\t    result = result[attributes[i]];\n\t  }\n\t  return new MagmaScript(result);\n\t};\n\t\n\tMagmaScript._isNull = function (value) {\n\t  if (value === null || value === undefined) return true;\n\t  return typeof value === 'string' && value.length === 0;\n\t};\n\t\n\tMagmaScript.newValue = function (value) {\n\t  return new MagmaScript(value);\n\t};\n\t\n\texports.default = MagmaScript;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ }\n/******/ ])\n});\n;\n"],"sourceRoot":"/source/"}